# テスト計画 (Test Plan)

## 1. 目的

本計画は、`bg-manager-next` プロジェクトにおけるリファクタリング後の品質保証を目的とします。
特に、共通コンポーネント（Dialog, Spinner）の導入に伴う影響範囲の確認と、主要機能の動作を検証します。

## 2. テスト範囲

### 2.1. ユニットテスト (Unit Tests)

共通コンポーネントの仕様通りの動作を検証します。

- **`BaseDialog`**
  - タイトル、コンテンツ、アクションが正しくレンダリングされるか。
  - `open` プロパティによる表示制御が正しいか。
  - `onClose` コールバックが呼ばれるか。
- **`LoadingSpinner`**
  - ローディング表示がされるか。
  - `fullScreen` プロパティによるオーバーレイ表示の切り替え。
- **`ConfirmDialog`**
  - タイトル、メッセージが正しく表示されるか。
  - 確認ボタン、キャンセルボタンのクリックイベントが発火するか。
  - `isDangerous` プロパティによるスタイル変更（赤色ボタン）が適用されるか。

### 2.2. 統合テスト (Integration Tests)

主要なページコンポーネントが、リファクタリング後も正常に機能することを検証します。
E2Eテストは今回は対象外としますが、コンポーネント間の連携を確認するレベルのテストを作成します。

- **`MatchDialog` (統合テスト的観点)**
  - フォームの入力とバリデーション。
  - 送信時のサーバーアクション呼び出し（モック）。
  - `BaseDialog` との連携。

## 3. テストツール

- **Framework**: Jest
- **Library**: React Testing Library (`@testing-library/react`)
- **Environment**: `jest-environment-jsdom`

## 4. 実行手順

```bash
npm test
```

## 5. 完了基準

- 全てのユニットテストが Pass すること。
- ビルド (`npm run build`) がエラーなく完了すること。
- 主要なユースケース（ゲーム追加、マッチ記録、削除）の手動確認で問題がないこと。
